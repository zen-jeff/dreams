# -*- coding: utf-8 -*-

import history



pool1 = ["600007","600012","600056","600058","600059","600062","600067","600069","600071","600075","600076","600088","600096","600101","600105","600110","600114","600129","600131","600132","600139","600145","600149","600167",
"600172","600173","600182","600183","600192","600193","600197","600198","600199","600206","600210","600212","600226","600232","600233","600235","600236","600242","600259","600260","600273","600298","600303","600305",
"600310","600313","600319","600321","600330","600332","600333","600336","600338","600343","600358","600359","600360","600366","600367","600382","600385","600386","600392","600393","600408","600418","600419","600435",
"600436","600438","600439","600455","600456","600458","600459","600460","600469","600479","600486","600487","600491","600499","600502","600506","600519","600521","600522","600525","600527","600529","600530","600537",
"600547","600549","600551","600552","600557","600559","600563","600566","600568","600570","600576","600579","600584","600592","600597","600599","600609","600614","600636","600638","600639","600640","600666","600667",
"600668","600671","600699","600702","600707","600712","600719","600721","600729","600731","600733","600742","600749","600750","600757","600764","600768","600773","600774","600779","600809","600816","600817","600821",
"600829","600846","600847","600854","600857","600870","600882","600884","600885","600890","600891","600892","600897","600973","600975","600980","600983","600985","600990","600993","600995","601021","601116","601208",
"601311","601313","601388","601579","601599","601689","601799","603002","603006","603009","603012","603015","603017","603019","603023","603026","603027","603030","603066","603085","603111","603118","603168","603188",
"603198","603222","603306","603308","603318","603328","603338","603355","603368","603377","603398","603399","603508","603520","603567","603589","603598","603599","603600","603601","603609","603636","603678","603686",
"603696","603703","603766","603788","603799","603800","603806","603808","603818","603828","603861","603866","603901","603919","603936","603989","603996","603999","600710","000008","000012","000023","000035","000037",
"000038","000048","000049","000050","000055","000059","000065","000070","000401","000403","000407","000418","000421","000423","000503","000505","000511","000530","000531","000534","000536","000537","000538","000541",
"000547","000568","000581","000590","000593","000596","000601","000609","000610","000617","000619","000635","000638","000639","000661","000723","000726","000733","000752","000755","000757","000760","000762","000788",
"000791","000795","000798","000799","000820","000823","000829","000833","000836","000848","000860","000862","000869","000881","000886","000887","000890","000899","000903","000910","000911","000922","000923","000925",
"000929","000957","000966","000968","000969","000970","000973","000975","000980","000982","000988","000990","000993","000999","001696","002007","002008","002010","002021","002023","002032","002035","002038","002039",
"002041","002045","002046","002048","002049","002051","002054","002056","002057","002061","002065","002067","002070","002074","002076","002077","002079","002087","002089","002090","002091","002092","002094","002097",
"002101","002106","002108","002125","002126","002127","002134","002136","002138","002139","002145","002148","002149","002150","002151","002155","002156","002157","002159","002164","002165","002167","002168","002169",
"002173","002175","002176","002177","002179","002180","002182","002185","002190","002196","002199","002204","002206","002207","002209","002210","002212","002217","002222","002223","002224","002230","002234","002237",
"002239","002240","002241","002245","002246","002249","002255","002256","002262","002264","002265","002267","002272","002273","002275","002277","002280","002281","002282","002289","002290","002291","002296","002297",
"002299","002301","002303","002304","002309","002317","002318","002319","002324","002331","002335","002341","002343","002347","002349","002350","002351","002352","002353","002357","002361","002366","002371","002372",
"002373","002383","002384","002387","002395","002397","002402","002403","002405","002407","002409","002411","002414","002430","002432","002434","002436","002438","002443","002444","002445","002446","002448","002454",
"002455","002456","002458","002460","002467","002469","002477","002480","002484","002495","002497","002507","002508","002509","002510","002511","002514","002519","002520","002522","002526","002529","002532","002533",
"002535","002537","002539","002543","002547","002550","002553","002554","002557","002559","002567","002569","002570","002571","002572","002574","002577","002579","002580","002582","002583","002587","002590","002591",
"002595","002598","002600","002603","002610","002612","002613","002617","002618","002619","002621","002631","002633","002635","002637","002643","002645","002646","002647","002650","002652","002660","002662","002663",
"002664","002672","002676","002677","002684","002685","002686","002688","002691","002694","002695","002697","002705","002709","002711","002712","002715","002716","002718","002719","002722","002723","002724","002725",
"002726","002728","002729","002733","002734","002738","002746","002747","002756","002765","002767","002769","002771","002773","002777","002778","002779","002780","002781","002782","002783","002786","002787","002788",
"002789","002790","300002","300004","300007","300008","300009","300011","300012","300014","300015","300017","300021","300025","300026","300033","300034","300035","300036","300037","300038","300040","300041","300045",
"300047","300048","300051","300053","300054","300056","300061","300062","300065","300068","300069","300072","300073","300082","300084","300088","300091","300092","300095","300096","300097","300100","300101","300102",
"300109","300112","300114","300115","300116","300118","300121","300124","300127","300128","300131","300134","300138","300141","300143","300145","300149","300153","300154","300157","300159","300161","300163","300165",
"300166","300173","300174","300176","300180","300183","300185","300194","300196","300198","300200","300201","300206","300210","300211","300218","300219","300221","300222","300223","300224","300228","300230","300232",
"300233","300234","300236","300239","300241","300242","300246","300250","300252","300253","300256","300258","300259","300260","300263","300266","300269","300273","300274","300278","300279","300281","300282","300283",
"300285","300286","300294","300296","300300","300302","300304","300305","300306","300310","300312","300316","300317","300318","300319","300322","300323","300325","300326","300327","300328","300330","300331","300334",
"300337","300338","300340","300341","300342","300346","300348","300350","300351","300356","300357","300360","300362","300365","300368","300370","300371","300372","300373","300375","300377","300379","300381","300382",
"300386","300387","300389","300390","300393","300395","300396","300397","300398","300400","300403","300407","300408","300409","300411","300414","300415","300417","300420","300424","300429","300432","300433","300434",
"300438","300439","300441","300444","300445","300447","300448","300449","300450","300452","300455","300456","300457","300458","300462","300464","300466","300468","300475","300476","300477","300478","300480","300481",
"300483","300484","300486","300487","300489","300490","300491","300492","300493","300494","300495","300496","300497","300499","300500","300501","300502","300503","300505","300506","000033","000155"]


pool=["601313","600150","000630","603799","600749","600597","600067","002583","002557","002343","002303","002108","002021","000762","600879","000903","603939","603309","601965",
"600982","600960","600816","600766","600757","600713","600523","600429","600392","600391","600319","600316","600311","600297","600285","600273","600266","600165","600086",
"300387","300287","300278","300266","300237","300219","300202","300010","002763","002757","002721","002651","002595","002578","002570","002528","002488","002413","002378",
"002317","002254","002237","002145","002136","002076","002013","002004","000958","000939","000908","000833","000748","000570","000541","000509","000099","000070","000042",
"600054","300101","603399","600159","600114","600547","600257","002669","603019","600784","600579","300228","300122","300026","002664","002106","000895","000878","000829"]

pool1 = ["000656","600203","002600","600853","600226","300246","002662","002613","000066","603338","603020","600973","600775","300478","002637","002235","000760","000333","000038",
"603936","603861","603567","600733","600724","600000","002714","002703","002328","002032","000533","000050","603968","603828","603818","603698","603696","603508","603368",
"603268","603108","601890","601818","601677","601608","601311","600992","600891","600887","600862","600851","600829","600805","600771","600729","600711","600666","600655",
"600629","600612","600570","600538","600527","600526","600486","600469","600468","600458","600435","600419","600367","600309","600308","600299","600281","600278","600270"]

pool2 = ["600260","600259","600225","600221","600210","600163","600151","600132","600105","600094","600038","600020","600012","600007","300475","300473","300422","300421","300396",
"300386","300379","300369","300349","300331","300317","300303","300253","300199","300112","300102","300090","300072","300066","300002","002756","002751","002748","002697",
"002690","002688","002684","002679","002674","002652","002628","002618","002592","002590","002586","002579","002559","002553","002551","002547","002520","002504","002485",
"002462","002424","002345","002338","002337","002318","002260","002241","002210","002173","002159","002151","002149","002055","002047","002039","002008","000972","000969",
"000952","000902","000899","000861","000820","000812","000811","000801","000753","000752","000631","000592","000587","000543","000536","000531","000519","000055"]
codeList = []
codeList1 = []
codeList2 = []
print(pool.count)
for p in pool :
    if p.startswith("6"):
        codeList.append("sh"+p)
    if p.startswith("0") :
        codeList.append("sz"+p)
    if p.startswith("3"):
        codeList.append("sz"+p)
for p in pool1 :
    if p.startswith("6"):
        codeList1.append("sh"+p)
    if p.startswith("0") :
        codeList1.append("sz"+p)
    if p.startswith("3"):
        codeList1.append("sz"+p)
for p in pool2 :
    if p.startswith("6"):
        codeList2.append("sh"+p)
    if p.startswith("0") :
        codeList2.append("sz"+p)
    if p.startswith("3"):
        codeList2.append("sz"+p)
load_url = "http://market.finance.sina.com.cn/downxls.php?date=#d#&symbol=#c#"
folder = "E:\\python\\F4838\\data\\all_temp\\"
save_url = "E:\\python\\F4838\\data\\all_temp\\#c#___#d#.csv"  

downloads_daily_single(codeList,save_url,load_url,"2016-8-22","2016-8-22",folder) 
downloads_daily_single(codeList1,save_url,load_url,"2016-8-22","2016-8-22",folder) 
downloads_daily_single(codeList2,save_url,load_url,"2016-8-22","2016-8-22",folder) 